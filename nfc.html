<!DOCTYPE html>
<html>
<head>
    <title>CharlestonHacks NFC Page</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        body {
            background-color: black;
            color: white;
        }

        h1, h2, p, button {
            font-size: 24px;
        }

        button {
            background-color: orange;
        }
    </style>
</head>
<body>
    <div id="content">
        <h1>Welcome to CharlestonHacks!</h1>
        <p>Would you like to join CharlestonHacks?</p>
        <button onclick="join()">Yes</button>
        <button onclick="reject()">No</button>
    </div>
    <div id="join-form" style="display: none;">
        <h2>Join CharlestonHacks</h2>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name"><br><br>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email"><br><br>
        <button onclick="submitForm()">Submit</button>
    </div>
    <div id="rejected" style="display: none;">
        <p>Sorry for the mistake.</p>
    </div>
    <div id="scan-message"></div>
    <script>
        function join() {
            document.getElementById('content').style.display = 'none';
            document.getElementById('join-form').style.display = 'block';
        }

        function reject() {
            document.getElementById('content').style.display = 'none';
            document.getElementById('rejected').style.display = 'block';
        }

        function submitForm() {
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;

            axios.post('/subscribe', { name, email })
            .then(response => {
                alert(`Thank you, ${name}! You will receive a CharlestonHacks business card at ${email}.`);
            })
            .catch(error => {
                console.error(error);
                alert('There was an error processing your request. Please try again later.');
            });
        }
    </script>
</body>
</html>
