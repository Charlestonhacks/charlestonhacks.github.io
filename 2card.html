<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
  />
  <meta name="description" content="CharlestonHacks Innovation Engine: Making Invisible Networks Visible.">
  <title>Innovation Engine - CharlestonHacks</title>

  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">

  <style>
    body { color: white; background: black; overflow-x: hidden; }

    .tab-nav {
      display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; margin-bottom: 20px;
    }
    .tab-button {
      flex: 1 1 22%; min-width: 160px; text-align: center; padding: 8px 12px;
      border-radius: 6px; border: none; cursor: pointer;
    }
    .tab-button.active { background: #879EF2; color: #000; }

    .team-card {
      background: rgba(255,255,255,0.08);
      border-radius: 16px; padding: 16px; width: 240px;
      text-align: center; box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }
    .team-card img {
      width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin-bottom: 10px;
    }

    .leaderboard-entry {
      display: flex; align-items: center; justify-content: space-between;
      padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .leaderboard-entry img {
      width: 50px; height: 50px; border-radius: 50%; margin-right: 10px;
    }

    .leaderboard-tabs {
      display: flex; justify-content: center; gap: 10px; margin-bottom: 15px;
    }
    .leaderboard-tabs button {
      background: rgba(255,255,255,0.1); border: none; padding: 10px 20px;
      border-radius: 8px; cursor: pointer; color: white;
    }
    .leaderboard-tabs button.active { background: #879EF2; color:#000; }

    .welcome-message { text-align: right; font-size: 0.9rem; color: #bbb; margin-right: 20px; }

    .input-container { display:flex; flex-direction:column; gap:8px; align-items:center; }
  </style>
</head>

<body class="two-card-page">
  <canvas id="neural-bg"></canvas>

  <a href="index.html" title="Back to Home" aria-label="Back to Home">
    <i class="fas fa-home home-icon" aria-hidden="true"></i>
  </a>

  <div class="container">
    <header class="header">
      <h1>Innovation Engine</h1>
      <p>Making Invisible Networks Visible</p>
      <div class="welcome-message" id="welcome-message"></div>
    </header>

    <main class="panels-wrapper">
      <div class="panel large">

        <!-- LOGIN SECTION -->
        <div id="login-section">
          <h2>Login</h2>
          <form id="login-form">
            <input type="email" id="login-email" placeholder="Enter your email" autocomplete="email" required />
            <button id="login-button" type="submit" class="action-btn">Send Magic Link</button>
          </form>
          <p id="login-info" style="color:#aaa;font-size:0.9rem;text-align:center;"></p>
        </div>

        <!-- MAIN APP SECTION -->
        <div id="profile-section" class="hidden">
          <div class="tab-nav" role="tablist">
            <button class="tab-button active" data-tab="profile" aria-selected="true"><i class="fas fa-user"></i> Profile</button>
            <button class="tab-button" data-tab="team-builder" aria-selected="false"><i class="fas fa-users"></i> Team Builder</button>
            <button class="tab-button" data-tab="leaderboard" aria-selected="false"><i class="fas fa-trophy"></i> Leaderboard</button>
          </div>

          <!-- PROFILE TAB -->
          <div id="profile" class="tab-content-pane active-tab-pane" role="tabpanel">
            <h2>Your Profile</h2>
            <form id="skills-form" class="input-container">
              <input type="text" id="first-name" placeholder="First Name" required />
              <input type="text" id="last-name" placeholder="Last Name" required />
              <input type="email" id="email" placeholder="Email" required disabled />

              <label>Skills (comma-separated)</label>
              <input type="text" id="skills-input" placeholder="e.g. AWS, Python, UX" required />

              <label>Short Bio</label>
              <input type="text" id="bio-input" placeholder="Tell us about yourself" maxlength="120" />

              <label>Upload Photo</label>
              <input type="file" id="photo-input" accept="image/*" />
              <img id="preview" class="hidden" style="width:100px;border-radius:8px;" />

              <label><input type="checkbox" id="newsletter-opt-in"> Subscribe to CharlestonHacks Newsletter</label>

              <button type="submit" class="action-btn">Save Profile</button>
              <p id="profile-status" style="color:#ccc;"></p>
            </form>
          </div>

          <!-- TEAM BUILDER TAB -->
          <div id="team-builder" class="tab-content-pane hidden" role="tabpanel">
            <h2>Team Builder</h2>
            <div style="text-align:center;">
              <input type="text" id="team-builder-skills" placeholder="Enter skill (e.g. AI, UX, Cloud)" />
              <input type="number" id="teamSize" placeholder="Team size (optional)" min="1" max="10" />
              <button id="buildTeamBtn" class="action-btn">Build Team</button>
              <button id="clearTeamBtn" class="action-btn">Clear</button>
            </div>
            <div id="bestTeamContainer" class="card-container"></div>
            <div id="teamResultCount" class="result-count hidden"></div>
          </div>

          <!-- LEADERBOARD TAB -->
          <div id="leaderboard" class="tab-content-pane hidden" role="tabpanel">
            <h2>Leaderboard</h2>
            <div class="leaderboard-tabs">
              <button class="lb-tab active" data-type="skills"><i class="fas fa-star"></i> Top Skills</button>
              <button class="lb-tab" data-type="connectors"><i class="fas fa-link"></i> Top Connectors</button>
              <button class="lb-tab" data-type="rising"><i class="fas fa-rocket"></i> Rising Stars</button>
            </div>
            <div id="leaderboard-rows"></div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Modular Script Imports -->
  <script type="module" src="assets/js/neuralBackground.js"></script>
  <script type="module" src="assets/js/supabaseClient.js"></script>
  <script type="module" src="assets/js/login.js"></script>
  <script type="module" src="assets/js/profile.js"></script>
  <script type="module" src="assets/js/teamBuilder.js"></script>
  <script type="module" src="assets/js/teamSearch.js"></script>
  <script type="module" src="assets/js/leaderboard.js"></script>
  <script type="module" src="assets/js/endorsements.js"></script>
  <script type="module" src="assets/js/eventListeners.js"></script>
  <script type="module" src="assets/js/main.js"></script>
</body>
</html>
