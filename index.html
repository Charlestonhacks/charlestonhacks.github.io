<script>
    // Array containing the paths to the card images
    var cardImages = [
        "images/Back.png",
        "images/Back2.png",
        "images/Back3.png",
        "images/Back4.png",
        "images/Back5.png",
        "images/Elara2.png",
        "images/A.png",
        "images/C.png",
        "images/H.png",
        "images/I.png",
        "images/Aegis.png",
        "images/R.png",
        "images/Astrid.png",
        "images/Back6.png" /* added card */
    ];

    // Keep track of the current index
    var currentIndex = 0;

    function getNextImage() {
        // Increment the index and wrap around if necessary
        currentIndex = (currentIndex + 1) % cardImages.length;
        return cardImages[currentIndex];
    }

    function toggleMissionContent() {
        var image = document.getElementById('missionImage');
        var video = document.getElementById('missionVideo');
        var missionContent = document.getElementById('missionContent');

        // Update the image source to the next image
        image.src = getNextImage();

        // Determine the animation direction (horizontal or vertical) based on the index
        var flipClass = currentIndex % 2 === 0 ? 'flip-horizontal' : 'flip-vertical';

        // Remove any previous flip classes and add the new one
        image.classList.remove('flip-horizontal', 'flip-vertical');
        image.classList.add(flipClass);

        // Show the video and mission content
        video.style.display = 'block';
        video.style.opacity = 1;
        video.play();

        setTimeout(function () {
            missionContent.style.display = 'block';
        }, 3000);

        // Apply fadeOut class to the video and hide it after animation
        setTimeout(function () {
            video.classList.add('fadeOut');
            setTimeout(function () {
                video.style.display = 'none';
            }, 8000); // Match this duration with the fadeOut animation
        }, 100);
    }

    // Ensure the video starts playing at a slightly reduced speed
    document.getElementById('missionVideo').onloadeddata = function () {
        this.playbackRate = 0.75;
    };
</script>
<style>
    @keyframes flipHorizontal {
        0% {
            transform: rotateY(0deg);
        }
        50% {
            transform: rotateY(180deg);
        }
        100% {
            transform: rotateY(360deg);
        }
    }

    @keyframes flipVertical {
        0% {
            transform: rotateX(0deg);
        }
        50% {
            transform: rotateX(180deg);
        }
        100% {
            transform: rotateX(360deg);
        }
    }

    .flip-horizontal {
        animation: flipHorizontal 4s ease forwards;
    }

    .flip-vertical {
        animation: flipVertical 4s ease forwards;
    }
</style>
