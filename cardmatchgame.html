<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <title>CharlestonHacks Matching Game</title>
    <style>
        /* [ ... existing styles ... ] */

        /* Add this for the profiles button */
        #profiles-btn {
            display: none;
            margin: 30px auto 0 auto;
            padding: 16px 38px;
            font-size: 1.3rem;
            font-weight: 700;
            background: linear-gradient(90deg,#39FF14 0%, #89CFF0 100%);
            color: #212121;
            border: none;
            border-radius: 30px;
            box-shadow: 0 4px 16px #39FF1440;
            cursor: pointer;
            transition: background 0.2s, color 0.2s, transform 0.15s;
        }
        #profiles-btn:hover {
            background: linear-gradient(90deg,#89CFF0 0%, #39FF14 100%);
            color: #000;
            transform: scale(1.06);
        }
    </style>
</head>
<body>
<div id="logo" style="cursor: pointer;">
    <img src="images/about us.webp" alt="About Us Logo" class="logo">
</div>

    <div class="stats">
        <span id="timer">Time: 0s</span>
        <span id="moves">Moves: 0</span>
    </div>

    <div class="game-container" id="game-container"></div>
    <div class="backstory" id="backstory"></div>
    
    <!-- Profiles Button: initially hidden -->
    <button id="profiles-btn" onclick="window.location.href='profiles.html'">View Team Profiles</button>

    <div id="video-container">
        <button id="close-video">X</button>
        <video id="video" controls muted>
            <source id="video-source" type="video/mp4">
        </video>
    </div>

    <footer>
        <a href="#" id="theme-toggle">Toggle Theme</a>
        <a href="index.html">Home</a>
        <p>Background music "background music.mp3" by ZHRÃ˜ -- <a href="https://freesound.org/s/544416/" target="_blank">Link</a> -- License: Attribution 4.0</p>
    </footer>

    <audio id="background-music" autoplay loop>
        <source src="assets/music.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>
    <audio id="victory-sound" src="assets/chime.mp3" preload="auto"></audio>

    <script>
        (function () {
            // [ ... existing code ... ]
            const characters = ['astrid', 'medusa', 'alexandor', 'aegis', 'descartes', 'elara', 'wolf', 'hermes'];
            // [ ... rest of your variable declarations ... ]
            const profilesBtn = document.getElementById('profiles-btn');

            // [ ... existing functions ... ]

            function checkMatch() {
                const [firstCard, secondCard] = flippedCards;
                if (firstCard.dataset.character === secondCard.dataset.character) {
                    matchedCards.push(firstCard, secondCard);
                    backstoryContainer.textContent = backstories[firstCard.dataset.character];
                    backstoryContainer.style.display = 'block';
                    firstCard.classList.add('matched');
                    secondCard.classList.add('matched');
                    flippedCards = [];

                    if (matchedCards.length === characters.length * 2) {
                        stopTimer();
                        setTimeout(() => {
                            document.getElementById('victory-sound').play();
                            alert(`You win! Time: ${timer}s, Moves: ${moves}`);
                            // Show the profiles button
                            profilesBtn.style.display = 'block';
                            profilesBtn.focus();
                        }, 500);
                    }

                    // [ ... existing video logic ... ]
                    if (
                        firstCard.dataset.character === 'descartes' ||
                        firstCard.dataset.character === 'medusa' ||
                        firstCard.dataset.character === 'alexandor' ||
                        firstCard.dataset.character === 'elara' ||
                        firstCard.dataset.character === 'astrid' ||
                        firstCard.dataset.character === 'wolf' ||
                        firstCard.dataset.character === 'hermes' ||
                        firstCard.dataset.character === 'aegis'
                    ) {
                        playVideo(firstCard.dataset.character);
                    }

                } else {
                    setTimeout(() => {
                        firstCard.classList.remove('flipped');
                        secondCard.classList.remove('flipped');
                        flippedCards = [];
                    }, 1000);
                }
            }

            // When the logo is clicked to restart, hide the profiles button
            document.getElementById('logo').addEventListener('click', () => {
                // [ ... existing code ... ]
                profilesBtn.style.display = 'none';
            });

            // [ ... rest of your script ... ]
            shuffleCards();
            startTimer();
        })();
    </script>
</body>
</html>
