<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <title>Space Invaders</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
        }

        canvas {
            display: block;
            margin: 0 auto;
            background-color: black;
        }

        footer {
            margin-top: 50px;
            text-align: center;
        }

        footer a {
            display: inline-block;
            margin: 10px 20px;
            font-size: 18px;
            color: #89CFF0;
        }

        footer a:hover {
            color: #FF6347;
        }
    </style>
</head>
<body>
    <h1>Space Invaders</h1>
    <canvas id="game-canvas" width="800" height="600"></canvas>

    <footer>
        <a href="index.html">Back to Matching Game</a>
    </footer>

    <script>
        (function () {
            const canvas = document.getElementById('game-canvas');
            const ctx = canvas.getContext('2d');

            const ship = {
                x: canvas.width / 2 - 20,
                y: canvas.height - 50,
                width: 40,
                height: 20,
                speed: 5
            };

            const lasers = [];
            const invaders = [];

            function drawShip() {
                ctx.fillStyle = 'white';
                ctx.fillRect(ship.x, ship.y, ship.width, ship.height);
            }

            function drawLasers() {
                lasers.forEach((laser, index) => {
                    ctx.fillStyle = 'red';
                    ctx.fillRect(laser.x, laser.y, 5, 10);
                    laser.y -= laser.speed;

                    if (laser.y < 0) {
                        lasers.splice(index, 1);
                    }
                });
            }

            function drawInvaders() {
                invaders.forEach(invader => {
                    ctx.fillStyle = 'green';
                    ctx.fillRect(invader.x, invader.y, 40, 40);
                    invader.y += 1; // Invaders move down slowly
                });
            }

            function detectCollisions() {
                lasers.forEach((laser, laserIndex) => {
                    invaders.forEach((invader, invaderIndex) => {
                        if (
                            laser.x < invader.x + 40 &&
                            laser.x + 5 > invader.x &&
                            laser.y < invader.y + 40 &&
                            laser.y + 10 > invader.y
                        ) {
                            invaders.splice(invaderIndex, 1);
                            lasers.splice(laserIndex, 1);
                        }
                    });
                });
            }

            function update() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                drawShip();
                drawLasers();
                drawInvaders();
                detectCollisions();
                requestAnimationFrame(update);
            }

            window.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft' && ship.x > 0) ship.x -= ship.speed;
                if (e.key === 'ArrowRight' && ship.x + ship.width < canvas.width) ship.x += ship.speed;
                if (e.key === ' ') {
                    lasers.push({ x: ship.x + ship.width / 2 - 2.5, y: ship.y, speed: 10 });
                }
            });

            // Initialize invaders
            for (let i = 0; i < 4; i++) {
                invaders.push({ x: 100 + i * 100, y: 50 });
            }

            update(); // Start the game loop
        })();
    </script>
</body>
</html>
